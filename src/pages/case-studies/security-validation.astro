---
import Base from '../../layouts/Base.astro';

const templates = [
  {
    app: 'A1',
    name: 'System Architecture Document ‚Äì A1',
    url: '/templates/A1-sad.docx'
  },
  {
    app: 'B1',
    name: 'System Architecture Document ‚Äì B1',
    url: '/templates/B1-sad.docx'
  }
];

const meta = {
  title: 'Security Validation Checklist',
  client: 'Compliance & Engineering',
  tags: ['Security', 'Validation', 'SOC 2', 'ISO 27001', 'QA'],
  outcomes: [
    'Standardized validation workflow for all releases',
    'Ensured SOC 2 & ISO 27001 audit readiness',
    'Automated 70% of validation steps through CI/CD',
    'Reduced release rollback incidents by 30%'
  ],
  summary:
    'Documented and automated security validation steps to meet SOC 2 and ISO 27001 standards across all product releases.'
};
---

<Base title={meta.title}>
  <main class="case-page max-w-5xl mx-auto px-4 py-10 space-y-10">
    {/* HEADER */}
    <header class="space-y-6 border-b border-slate-200 pb-8">
      <p class="text-sm uppercase tracking-[0.2em] text-slate-500">
        Case Study ¬∑ {meta.client}
      </p>

      <div class="space-y-3">
        <h1 class="text-3xl md:text-4xl font-semibold tracking-tight text-slate-900">
          {meta.title}
        </h1>
        <p class="text-base md:text-lg text-slate-600 leading-relaxed">
          {meta.summary}
        </p>
      </div>

      <div class="flex flex-wrap items-center gap-3">
        <div class="flex flex-wrap gap-2">
          {meta.tags.map((tag) => (
            <span
              class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-medium text-slate-700"
            >
              {tag}
            </span>
          ))}
        </div>
      </div>

      <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-4 mt-4">
        {meta.outcomes.map((o) => (
          <div class="rounded-xl border border-slate-200 bg-white/70 p-4 text-sm shadow-sm">
            <div class="mb-1 text-xs font-semibold uppercase tracking-wide text-emerald-600">
              Outcome
            </div>
            <p class="text-slate-700">{o}</p>
          </div>
        ))}
      </div>
    </header>

    {/* OVERVIEW + PROBLEM */}
    <section class="grid gap-8 md:grid-cols-[minmax(0,2fr)_minmax(0,1.2fr)] items-start">
      <div class="space-y-6">
        <div>
          <h2 class="text-xl font-semibold text-slate-900 mb-2">Overview</h2>
          <p class="text-slate-700 leading-relaxed">
            I developed a comprehensive <strong>Security Validation Checklist</strong> designed to
            enforce security controls during every release cycle. This checklist aligned
            engineering, QA, and compliance teams around a shared process, ensuring every
            production build met SOC 2 and ISO 27001 requirements.
          </p>
        </div>

        <div>
          <h2 class="text-xl font-semibold text-slate-900 mb-2">Approach at a Glance</h2>
          <ol class="space-y-2 text-slate-700 text-sm list-decimal list-inside">
            <li>Mapped SOC 2, ISO 27001, and internal control requirements.</li>
            <li>Designed a standardized validation checklist for every release.</li>
            <li>Automated most steps via CI/CD (GitHub Actions + scanners).</li>
            <li>Published training guides and rollback playbooks.</li>
          </ol>
        </div>
      </div>

      <aside class="rounded-2xl border border-amber-200 bg-amber-50/80 p-5 space-y-3">
        <h3 class="text-sm font-semibold text-amber-900">
          Before the checklist
        </h3>
        <p class="text-sm text-amber-900/90">
          Releases were inconsistent and risky:
        </p>
        <ul class="text-sm text-amber-900/90 space-y-1 list-disc list-inside">
          <li>Validation steps varied per team</li>
          <li>Some releases skipped dependency audits</li>
          <li>API contract drift caused integration issues</li>
          <li>Compliance gaps surfaced late in audits</li>
        </ul>
        <p class="text-xs text-amber-900/80 mt-2">
          This raised the chance of vulnerabilities, failed audits, and unstable releases.
        </p>
      </aside>
    </section>

    {/* DETAILED APPROACH */}
    <section class="space-y-8">
      <h2 class="text-xl font-semibold text-slate-900">Detailed Approach</h2>

      <div class="space-y-6">
        <div class="space-y-2">
          <h3 class="text-base font-semibold text-slate-900">
            üîπ 1. Mapped Required Controls
          </h3>
          <p class="text-slate-700 text-sm leading-relaxed">
            I mapped validation requirements across:
          </p>
          <ul class="text-sm text-slate-700 space-y-1 list-disc list-inside">
            <li>SOC 2 (CC6, CC7)</li>
            <li>ISO 27001 (A.12, A.14)</li>
            <li>Internal security policies</li>
            <li>QA test requirements</li>
          </ul>
          <p class="text-sm text-slate-700 mt-1">
            This produced a unified set of security checkpoints.
          </p>
        </div>

        <div class="space-y-3">
          <h3 class="text-base font-semibold text-slate-900">
            üîπ 2. Built the Validation Checklist
          </h3>
          <p class="text-sm text-slate-700">
            Each release includes the following steps:
          </p>

          <div class="overflow-x-auto rounded-xl border border-slate-200 bg-white shadow-sm">
            <table class="min-w-full text-left text-sm">
              <thead class="bg-slate-50 border-b border-slate-200">
                <tr>
                  <th class="px-4 py-3 font-medium text-slate-600">Step</th>
                  <th class="px-4 py-3 font-medium text-slate-600">Description</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-slate-100">
                <tr>
                  <td class="px-4 py-3 font-medium text-slate-900">
                    Dependency Audit
                  </td>
                  <td class="px-4 py-3 text-slate-700">
                    Check for CVEs and outdated libraries.
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 font-medium text-slate-900">
                    Static Analysis (SAST)
                  </td>
                  <td class="px-4 py-3 text-slate-700">
                    Linting, type checking, and security rule sets.
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 font-medium text-slate-900">
                    Vulnerability Scan
                  </td>
                  <td class="px-4 py-3 text-slate-700">
                    Automated scans in the CI pipeline.
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 font-medium text-slate-900">
                    API Contract Check
                  </td>
                  <td class="px-4 py-3 text-slate-700">
                    Validate schemas and versions to prevent drift.
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 font-medium text-slate-900">
                    Secrets Audit
                  </td>
                  <td class="px-4 py-3 text-slate-700">
                    Ensure no secrets in repositories or logs.
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 font-medium text-slate-900">
                    Access Review
                  </td>
                  <td class="px-4 py-3 text-slate-700">
                    Validate least-privilege deployment roles.
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 font-medium text-slate-900">
                    Release Notes Review
                  </td>
                  <td class="px-4 py-3 text-slate-700">
                    Ensure change traceability and impact clarity.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <p class="text-sm text-slate-700">
            Teams now follow the same security gate for every release.
          </p>
        </div>

        <div class="space-y-2">
          <h3 class="text-base font-semibold text-slate-900">
            üîπ 3. Automated the Checklist with CI/CD
          </h3>
          <p class="text-sm text-slate-700">
            I integrated automated validation steps into the pipeline:
          </p>
          <ul class="text-sm text-slate-700 space-y-1 list-disc list-inside">
            <li>GitHub Actions workflows</li>
            <li>Dependency scanners (npm audit, Snyk, Trivy)</li>
            <li>API schema diff bots</li>
            <li>Secrets scanners (Gitleaks)</li>
            <li>Required PR checks</li>
            <li>Signed release artifacts</li>
          </ul>
          <p class="text-sm text-slate-700 mt-1">
            Roughly <strong>70% of manual validation work</strong> became automated.
          </p>
        </div>

        <div class="space-y-2">
          <h3 class="text-base font-semibold text-slate-900">
            üîπ 4. Published Training Guides
          </h3>
          <p class="text-sm text-slate-700">
            To make the process approachable, I documented:
          </p>
          <ul class="text-sm text-slate-700 space-y-1 list-disc list-inside">
            <li>‚ÄúHow to pass validation‚Äù guides</li>
            <li>Examples of compliant releases</li>
            <li>Troubleshooting for failing checks</li>
            <li>Rollback procedures for failed validations</li>
          </ul>
          <p class="text-sm text-slate-700 mt-1">
            This removed uncertainty and made the pipeline predictable for every team.
          </p>
        </div>
      </div>
    </section>

    {/* OUTCOMES */}
    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-slate-900">Outcomes</h2>
      <ul class="space-y-2 text-sm text-slate-700">
        <li>
          ‚úî <strong>Audit-ready documentation</strong> for SOC 2 and ISO 27001.
        </li>
        <li>
          ‚úî <strong>Fewer release incidents</strong> tied to missing validations.
        </li>
        <li>
          ‚úî <strong>Predictable, repeatable security process</strong> across products.
        </li>
        <li>
          ‚úî <strong>Cross-team alignment</strong> between engineering, QA, and compliance.
        </li>
      </ul>
    </section>

    {/* ASSETS */}
    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-slate-900">Example Assets</h2>

      <div class="grid gap-4 md:grid-cols-2">
        <a
          href="/templates/security-validation-checklist.pdf"
           class="group flex items-start justify-between rounded-xl border border-slate-700/40 bg-slate-800/60 p-4 text-sm shadow-sm hover:border-slate-600 hover:bg-slate-800 transition"
        >
          <div class="space-y-1">
            <p class="font-semibold text-slate-900">
              Security Validation Template (PDF)
            </p>
            <p class="text-slate-600">
              Checklist used by teams before approving any production release.
            </p>
          </div>
          <span class="text-xs text-slate-400 group-hover:text-slate-600">
            ‚¨á
          </span>
        </a>

        <a
          href="/templates/cicd-validation-workflow.yaml"
           class="group flex items-start justify-between rounded-xl border border-slate-700/40 bg-slate-800/60 p-4 text-sm shadow-sm hover:border-slate-600 hover:bg-slate-800 transition"
        >
          <div class="space-y-1">
            <p class="font-semibold text-slate-900">
              CI/CD Validation Workflow (YAML)
            </p>
            <p class="text-slate-600">
              GitHub Actions workflow that automates security checks.
            </p>
          </div>
          <span class="text-xs text-slate-400 group-hover:text-slate-600">
            ‚¨á
          </span>
        </a>
      </div>
    </section>

    {/* ARCHITECTURE TEMPLATES */}
    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-slate-900">Related Architecture Templates</h2>
      <p class="text-sm text-slate-700">
        These templates are generated from a single source of truth using doc properties
        and GitHub Actions:
      </p>
      <ul class="space-y-2">
        {templates.map((t) => (
          <li>
            <a
              href={t.url}
              class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1.5 text-xs font-medium text-slate-800 hover:border-slate-300 hover:bg-white transition"
            >
              <span class="text-slate-400">‚¨á</span>
              <span>{t.name}</span>
            </a>
          </li>
        ))}
      </ul>
    </section>

    <p class="mt-6 text-xs text-slate-500 italic">
    </p>
  </main>
  <style>
  
  .case-page p,
  .case-page li {
    color: #f8fafc !important;
  }

  .case-page h1,
  .case-page h2,
  .case-page h3,
  .case-page h4 {
    color: #ffffff !important;
  }
  
</style>

</Base>
